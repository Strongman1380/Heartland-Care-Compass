# Incident Reporting System - Environment Variables
# Copy this file to .env and update with your actual values

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# MongoDB Connection String
MONGODB_URI=mongodb://localhost:27017/heartland
# For MongoDB Atlas:
# MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/heartland?retryWrites=true&w=majority

# Database Name
MONGODB_DB_NAME=heartland

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================

# JWT Secret Key (CHANGE IN PRODUCTION!)
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-in-production-min-32-chars

# JWT Token Expiration
JWT_EXPIRES_IN=7d

# Admin API Key (for initial setup)
ADMIN_API_KEY=your-admin-api-key-change-in-production

# ============================================================================
# ENCRYPTION
# ============================================================================

# Master Encryption Key (CHANGE IN PRODUCTION!)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
ENCRYPTION_MASTER_KEY=CHANGE_ME_IN_PRODUCTION_USE_STRONG_KEY

# Current Encryption Key Version
ENCRYPTION_KEY_VERSION=1

# ============================================================================
# FILE STORAGE
# ============================================================================

# Storage Type: 'local' or 's3'
STORAGE_TYPE=local

# Local Storage Directory (if STORAGE_TYPE=local)
UPLOAD_DIR=./uploads/incidents

# Maximum file size (in bytes) - 10MB default
MAX_FILE_SIZE=10485760

# Maximum total upload size per incident
MAX_TOTAL_UPLOAD_SIZE=10485760

# ============================================================================
# AWS S3 CONFIGURATION (if STORAGE_TYPE=s3)
# ============================================================================

# AWS Credentials
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key

# AWS Region
AWS_REGION=us-east-1

# S3 Bucket Name
AWS_S3_BUCKET=heartland-incidents

# S3 Bucket Prefix (optional)
AWS_S3_PREFIX=incidents/

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================

# Server Port
PORT=3000

# Node Environment: 'development', 'production', or 'test'
NODE_ENV=development

# API Base URL
API_BASE_URL=http://localhost:3000

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:8080

# Allowed Origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:8080,http://localhost:3000

# ============================================================================
# RATE LIMITING
# ============================================================================

# Rate limit window (in minutes)
RATE_LIMIT_WINDOW=15

# Maximum requests per window
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# LOGGING
# ============================================================================

# Log Level: 'error', 'warn', 'info', 'debug'
LOG_LEVEL=info

# Log Directory
LOG_DIR=./logs

# Enable audit logging
ENABLE_AUDIT_LOG=true

# ============================================================================
# EMAIL NOTIFICATIONS (Optional)
# ============================================================================

# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Email From Address
EMAIL_FROM=noreply@heartland.org

# Email for Critical Incidents
CRITICAL_INCIDENT_EMAIL=supervisor@heartland.org

# ============================================================================
# BACKUP CONFIGURATION
# ============================================================================

# Backup Directory
BACKUP_DIR=./backups

# Backup Retention (in days)
BACKUP_RETENTION_DAYS=90

# S3 Backup Bucket (optional)
BACKUP_S3_BUCKET=heartland-backups

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Enable PDF Export
ENABLE_PDF_EXPORT=true

# Enable Anonymized Export
ENABLE_ANONYMIZED_EXPORT=true

# Enable File Attachments
ENABLE_FILE_ATTACHMENTS=true

# Enable Digital Signatures
ENABLE_DIGITAL_SIGNATURES=true

# Enable Autosave
ENABLE_AUTOSAVE=true

# Autosave Interval (in milliseconds)
AUTOSAVE_INTERVAL=3000

# ============================================================================
# COMPLIANCE & PRIVACY
# ============================================================================

# Data Retention Period (in days)
DATA_RETENTION_DAYS=2555  # 7 years

# Enable Encryption at Rest
ENABLE_ENCRYPTION_AT_REST=true

# Enable Field-Level Encryption
ENABLE_FIELD_ENCRYPTION=true

# Require Two-Factor Authentication
REQUIRE_2FA=false

# ============================================================================
# MONITORING & ALERTS
# ============================================================================

# Sentry DSN (for error tracking)
SENTRY_DSN=

# Enable Performance Monitoring
ENABLE_PERFORMANCE_MONITORING=false

# ============================================================================
# DEVELOPMENT ONLY
# ============================================================================

# Enable Debug Mode
DEBUG=false

# Enable Mock Data
ENABLE_MOCK_DATA=false

# Disable Authentication (NEVER in production!)
DISABLE_AUTH=false

# ============================================================================
# TESTING
# ============================================================================

# Test Database URI
MONGODB_TEST_URI=mongodb://localhost:27017/heartland_test

# Test JWT Secret
TEST_JWT_SECRET=test-secret-key-for-testing-only